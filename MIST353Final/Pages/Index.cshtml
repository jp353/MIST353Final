@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
    .table-container {
        display: flex;
        justify-content: center;
        margin-top: 20px; /* Adjust margin as needed */
    }
</style>

<header>
    <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
        <a class="nav-link text-dark" href="/Cart">
            Cart
            <i class="fa fa-shopping-cart" style="font-size:15px"></i>
        </a>
        <span style="margin-right: 20px;"></span>

        <a class="nav-link text-dark" href="/Subscription">
            Subscription
            <i class="fa fa-bar-chart" style="font-size:15px"></i>
        </a>
        <span style="margin-right: 20px;"></span>

        <a class="nav-link text-dark" href="/User">
            User
            <i class="fa fa-odnoklassniki" style="font-size:15px"></i>
        </a>

        <span style="margin-right: 20px;"></span>

        <a class="nav-link text-dark" href="/Feedback">
            Feedback
            <i class="fa fa-check-square" style="font-size:15px;"></i>
        </a>
    </div>
</header>

<div class="text-center">
    <hr>
    <h1 class="display-4">Welcome to WeatherZone</h1>
    <hr>
    <p>
        At WeatherZone, we're dedicated to revolutionizing the way organizations harness weather data.
        Our team of skilled meteorologists, data scientists, and software engineers collaborate to provide cutting-edge solutions
        that empower businesses, research institutions, and government agencies worldwide. We're passionate about helping organizations
        harness the power of their data. With years of experience in data management and analytics, our team is dedicated to providing
        innovative solutions that drive success.
    </p>
</div>
<hr>

<div class="table-container">
    <table border="1">
        <thead>
            <tr>
                <th>Region</th>
                <th>Get Climate Data</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>North</td>
                <td><button onclick="getClimateEvents(1)">Get Data</button></td>
            </tr>
            <tr>
                <td>West</td>
                <td><button onclick="getClimateEvents(2)">Get Data</button></td>
            </tr>
            <tr>
                <td>Midwest</td>
                <td><button onclick="getClimateEvents(3)">Get Data</button></td>
            </tr>
            <tr>
                <td>South</td>
                <td><button onclick="getClimateEvents(4)">Get Data</button></td>
            </tr>
        </tbody>
    </table>
</div>

<div id="weatherStuff"></div>

<script>
    async function getClimateEvents(region) {
        try {
            const response = await fetch(`/api/Region/${region}`);
            if (!response.ok) {
                throw new Error('Failed to fetch climate data');
            }
            const climateData = await response.json();
            // Process the retrieved climate data (e.g., display in UI)
            console.log('Climate data for ' + region + ':', climateData);
        } catch (error) {
            console.error('Error fetching climate data:', error);
        }
    }
</script>
